<html>
<head>
<title>culture.html</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #d5b778;}
.s1 { color: #bcbec4;}
.s2 { color: #bababa;}
.s3 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
culture.html</font>
</center></td></tr></table>
<pre><span class="s0">&lt;!DOCTYPE </span><span class="s2">html</span><span class="s0">&gt;</span>
<span class="s0">&lt;html </span><span class="s2">lang</span><span class="s3">=&quot;zh-CN&quot;</span><span class="s0">&gt;</span>
<span class="s0">&lt;head&gt;</span>
    <span class="s0">&lt;meta </span><span class="s2">charset</span><span class="s3">=&quot;UTF-8&quot;</span><span class="s0">&gt;</span>
    <span class="s0">&lt;meta </span><span class="s2">name</span><span class="s3">=&quot;viewport&quot; </span><span class="s2">content</span><span class="s3">=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span><span class="s0">&gt;</span>
    <span class="s0">&lt;title&gt;</span><span class="s1">方言文化地图 Pro - 言禾 YanHe</span><span class="s0">&lt;/title&gt;</span>
    <span class="s0">&lt;link </span><span class="s2">href</span><span class="s3">=&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css&quot; </span><span class="s2">rel</span><span class="s3">=&quot;stylesheet&quot;</span><span class="s0">&gt;</span>
    <span class="s0">&lt;link </span><span class="s2">href</span><span class="s3">=&quot;https://cdn.bootcdn.net/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.css&quot; </span><span class="s2">rel</span><span class="s3">=&quot;stylesheet&quot;</span><span class="s0">&gt;</span>
    <span class="s0">&lt;script </span><span class="s2">src</span><span class="s3">=&quot;https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js&quot;</span><span class="s0">&gt;&lt;/script&gt;</span>
    <span class="s0">&lt;script </span><span class="s2">src</span><span class="s3">=&quot;https://assets.pyecharts.org/assets/maps/china.js&quot;</span><span class="s0">&gt;&lt;/script&gt;</span>

    <span class="s0">&lt;style&gt;</span>
        <span class="s1">/* --- 基础样式 --- */</span>
        <span class="s1">:root { --primary: #004aad; --accent: #ff6b00; --gold: #d4af37; }</span>
        <span class="s1">body {</span>
            <span class="s1">font-family: -apple-system, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;</span>
            <span class="s1">padding-top: 70px; background: #f8faff; overflow: hidden; height: 100vh;</span>
        <span class="s1">}</span>

        <span class="s1">/* 导航栏 */</span>
        <span class="s1">.navbar-custom { background: rgba(255,255,255,0.98); box-shadow: 0 2px 10px rgba(0,0,0,0.05); height: 70px; z-index: 1000; }</span>
        <span class="s1">.navbar-brand { font-weight: 900; background: linear-gradient(135deg, #004aad 0%, #0078ff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }</span>
        <span class="s1">.nav-link { font-weight: 600; color: #555 !important; padding: 8px 15px !important; }</span>
        <span class="s1">.nav-link.active { color: var(--primary) !important; font-weight: 800; }</span>

        <span class="s1">/* Pro 切换 */</span>
        <span class="s1">.mode-switch-container {</span>
            <span class="s1">position: absolute; top: 90px; left: 50%; transform: translateX(-50%); z-index: 50;</span>
            <span class="s1">background: #fff; padding: 4px; border-radius: 30px;</span>
            <span class="s1">box-shadow: 0 5px 20px rgba(0,0,0,0.1); display: flex; gap: 4px;</span>
        <span class="s1">}</span>
        <span class="s1">.mode-btn {</span>
            <span class="s1">border: none; padding: 6px 20px; border-radius: 25px; font-weight: 700; font-size: 13px;</span>
            <span class="s1">background: transparent; color: #666; transition: 0.3s;</span>
        <span class="s1">}</span>
        <span class="s1">.mode-btn.active { background: #eee; color: #333; }</span>
        <span class="s1">.mode-btn.pro-active { background: linear-gradient(135deg, #111, #333); color: #ffd700; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }</span>
        <span class="s1">.pro-badge { background: linear-gradient(90deg, #ffd700, #ffaa00); color: #000; font-size: 10px; padding: 2px 6px; border-radius: 4px; margin-left: 5px; vertical-align: top; }</span>

        <span class="s1">/* 地图与图例 */</span>
        <span class="s1">.map-container { width: 100%; height: 100%; }</span>
        <span class="s1">.legend-panel {</span>
            <span class="s1">position: absolute; top: 90px; left: 20px; z-index: 40;</span>
            <span class="s1">background: rgba(255,255,255,0.9); backdrop-filter: blur(4px);</span>
            <span class="s1">padding: 12px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); width: 160px;</span>
        <span class="s1">}</span>
        <span class="s1">.dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 6px; }</span>
        <span class="s1">.dot-red { background: #ff4d4f; animation: pulse 2s infinite; }</span>
        <span class="s1">.dot-blue { background: var(--primary); }</span>
        <span class="s1">@keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }</span>

        <span class="s1">/* --- 抽屉 (Drawer) --- */</span>
        <span class="s1">.content-drawer {</span>
            <span class="s1">position: absolute; bottom: 0; left: 0; right: 0;</span>
            <span class="s1">background: #fff; border-radius: 24px 24px 0 0;</span>
            <span class="s1">box-shadow: 0 -10px 40px rgba(0,0,0,0.2);</span>
            <span class="s1">transform: translateY(110%); transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);</span>
            <span class="s1">z-index: 100; height: 80vh; display: flex; flex-direction: column; overflow: hidden;</span>
        <span class="s1">}</span>
        <span class="s1">.content-drawer.show { transform: translateY(0); }</span>

        <span class="s1">.drawer-hero {</span>
            <span class="s1">height: 160px; position: relative; color: #fff; flex-shrink: 0;</span>
            <span class="s1">background-size: cover; background-position: center; transition: background-image 0.3s;</span>
        <span class="s1">}</span>
        <span class="s1">.drawer-hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.8)); }</span>
        <span class="s1">.hero-content { position: absolute; bottom: 15px; left: 20px; right: 20px; z-index: 2; }</span>
        <span class="s1">.hero-title { font-size: 26px; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }</span>
        <span class="s1">.btn-close-custom {</span>
            <span class="s1">position: absolute; top: 15px; right: 15px; z-index: 10;</span>
            <span class="s1">background: rgba(0,0,0,0.3); border-radius: 50%; padding: 8px; color: #fff;</span>
            <span class="s1">width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer;</span>
        <span class="s1">}</span>

        <span class="s1">.nav-tabs-custom { display: flex; border-bottom: 1px solid #eee; padding: 0 10px; flex-shrink: 0; background: #fff; }</span>
        <span class="s1">.tab-link {</span>
            <span class="s1">padding: 15px; font-weight: 600; color: #888; cursor: pointer; border-bottom: 3px solid transparent; font-size: 14px; flex: 1; text-align: center;</span>
        <span class="s1">}</span>
        <span class="s1">.tab-link.active { color: var(--primary); border-bottom-color: var(--primary); }</span>
        <span class="s1">.tab-link.pro-tab.active { color: #d4af37; border-bottom-color: #d4af37; }</span>

        <span class="s1">.drawer-body { flex: 1; overflow-y: auto; padding: 20px; background: #fff; }</span>
        <span class="s1">.tab-pane { display: none; animation: fadeIn 0.3s; }</span>
        <span class="s1">.tab-pane.active { display: block; }</span>
        <span class="s1">@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }</span>

        <span class="s1">/* 内容元素样式 */</span>
        <span class="s1">.culture-item { display: flex; gap: 15px; background: #fff; border: 1px solid #eee; border-radius: 12px; padding: 12px; margin-bottom: 15px; align-items: center; }</span>
        <span class="s1">.culture-thumb { width: 70px; height: 70px; border-radius: 8px; object-fit: cover; flex-shrink: 0; }</span>
        <span class="s1">.dialect-word { color: var(--primary); font-weight: 800; font-size: 16px; margin-right: 5px; }</span>

        <span class="s1">/* 场景对话 */</span>
        <span class="s1">.scenario-box { background: #f9f9f9; border-radius: 12px; padding: 15px; position: relative; }</span>
        <span class="s1">.chat-row { margin-bottom: 12px; display: flex; flex-direction: column; }</span>
        <span class="s1">.chat-bubble { padding: 10px 14px; border-radius: 12px; font-size: 14px; max-width: 90%; }</span>
        <span class="s1">.chat-npc { background: #fff; border: 1px solid #eee; align-self: flex-start; }</span>
        <span class="s1">.chat-user { background: #e3f2fd; color: #004aad; align-self: flex-end; }</span>
        <span class="s1">.dialect-highlight { color: #d63384; font-weight: bold; }</span>
        <span class="s1">.pro-mask { filter: blur(4px); opacity: 0.5; pointer-events: none; }</span>

        <span class="s1">/* --- AI 测评区核心样式 --- */</span>
        <span class="s1">.ai-challenge-card {</span>
            <span class="s1">background: #fff; border: 1px solid #eee; border-radius: 16px; padding: 20px;</span>
            <span class="s1">text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.03); margin-bottom: 20px;</span>
        <span class="s1">}</span>
        <span class="s1">.target-sentence { font-size: 24px; font-weight: 900; color: #333; margin: 15px 0; }</span>
        <span class="s1">.mic-btn-wrapper {</span>
            <span class="s1">position: relative; width: 80px; height: 80px; margin: 0 auto;</span>
        <span class="s1">}</span>
        <span class="s1">.mic-btn {</span>
            <span class="s1">width: 80px; height: 80px; border-radius: 50%; background: var(--primary); color: #fff;</span>
            <span class="s1">display: flex; align-items: center; justify-content: center; font-size: 30px; cursor: pointer;</span>
            <span class="s1">box-shadow: 0 5px 15px rgba(0, 74, 173, 0.4); z-index: 2; position: relative; transition: all 0.3s;</span>
        <span class="s1">}</span>
        <span class="s1">.mic-btn.recording { background: #ff4d4f; box-shadow: 0 5px 15px rgba(255, 77, 79, 0.4); transform: scale(1.1); }</span>

        <span class="s1">/* 录音波纹动画 */</span>
        <span class="s1">.mic-wave {</span>
            <span class="s1">position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%;</span>
            <span class="s1">background: rgba(255, 77, 79, 0.3); z-index: 1; display: none;</span>
        <span class="s1">}</span>
        <span class="s1">.mic-btn.recording + .mic-wave { display: block; animation: wave-anim 1.5s infinite ease-out; }</span>
        <span class="s1">@keyframes wave-anim { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(2); opacity: 0; } }</span>

        <span class="s1">/* 声波可视化 */</span>
        <span class="s1">.voice-visualizer {</span>
            <span class="s1">height: 40px; display: flex; align-items: center; justify-content: center; gap: 4px; margin-top: 20px; opacity: 0; transition: opacity 0.3s;</span>
        <span class="s1">}</span>
        <span class="s1">.bar { width: 4px; background: var(--primary); border-radius: 2px; animation: sound-jump 0.5s infinite ease-in-out alternate; }</span>
        <span class="s1">@keyframes sound-jump { 0% { height: 10px; } 100% { height: 35px; } }</span>

        <span class="s1">/* 评分结果 */</span>
        <span class="s1">.ai-result-box { display: none; animation: slideUp 0.5s; }</span>
        <span class="s1">@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }</span>
        <span class="s1">.score-circle {</span>
            <span class="s1">width: 100px; height: 100px; border-radius: 50%; border: 5px solid #4caf50;</span>
            <span class="s1">display: flex; flex-direction: column; align-items: center; justify-content: center;</span>
            <span class="s1">margin: 0 auto 15px; color: #4caf50;</span>
        <span class="s1">}</span>
        <span class="s1">.score-num { font-size: 32px; font-weight: 900; line-height: 1; }</span>
        <span class="s1">.score-label { font-size: 10px; text-transform: uppercase; }</span>

        <span class="s1">.dimension-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px; }</span>
        <span class="s1">.progress-slim { height: 6px; border-radius: 3px; background: #eee; width: 70%; }</span>
        <span class="s1">.progress-fill { height: 100%; border-radius: 3px; background: var(--primary); }</span>
    <span class="s0">&lt;/style&gt;</span>
<span class="s0">&lt;/head&gt;</span>
<span class="s0">&lt;body&gt;</span>

    <span class="s0">&lt;nav </span><span class="s2">class</span><span class="s3">=&quot;navbar navbar-expand-lg fixed-top navbar-custom&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;container-fluid px-4&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;a </span><span class="s2">class</span><span class="s3">=&quot;navbar-brand&quot; </span><span class="s2">href</span><span class="s3">=&quot;index.html&quot;</span><span class="s0">&gt;</span><span class="s1">言禾 YanHe</span><span class="s0">&lt;/a&gt;</span>
            <span class="s0">&lt;button </span><span class="s2">class</span><span class="s3">=&quot;navbar-toggler border-0&quot; </span><span class="s2">type</span><span class="s3">=&quot;button&quot; </span><span class="s2">data-bs-toggle</span><span class="s3">=&quot;collapse&quot; </span><span class="s2">data-bs-target</span><span class="s3">=&quot;#navContent&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-list fs-5&quot;</span><span class="s0">&gt;&lt;/i&gt;</span>
            <span class="s0">&lt;/button&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;collapse navbar-collapse&quot; </span><span class="s2">id</span><span class="s3">=&quot;navContent&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;ul </span><span class="s2">class</span><span class="s3">=&quot;navbar-nav mx-auto&quot;</span><span class="s0">&gt;</span>
                    <span class="s0">&lt;li </span><span class="s2">class</span><span class="s3">=&quot;nav-item&quot;</span><span class="s0">&gt;&lt;a </span><span class="s2">class</span><span class="s3">=&quot;nav-link&quot; </span><span class="s2">href</span><span class="s3">=&quot;index.html&quot;</span><span class="s0">&gt;</span><span class="s1">首页</span><span class="s0">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="s0">&lt;li </span><span class="s2">class</span><span class="s3">=&quot;nav-item&quot;</span><span class="s0">&gt;&lt;a </span><span class="s2">class</span><span class="s3">=&quot;nav-link&quot; </span><span class="s2">href</span><span class="s3">=&quot;story.html&quot;</span><span class="s0">&gt;</span><span class="s1">中国故事</span><span class="s0">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="s0">&lt;li </span><span class="s2">class</span><span class="s3">=&quot;nav-item&quot;</span><span class="s0">&gt;&lt;a </span><span class="s2">class</span><span class="s3">=&quot;nav-link&quot; </span><span class="s2">href</span><span class="s3">=&quot;education.html&quot;</span><span class="s0">&gt;</span><span class="s1">教育云</span><span class="s0">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="s0">&lt;li </span><span class="s2">class</span><span class="s3">=&quot;nav-item&quot;</span><span class="s0">&gt;&lt;a </span><span class="s2">class</span><span class="s3">=&quot;nav-link&quot; </span><span class="s2">href</span><span class="s3">=&quot;service.html&quot;</span><span class="s0">&gt;</span><span class="s1">任务大厅</span><span class="s0">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="s0">&lt;li </span><span class="s2">class</span><span class="s3">=&quot;nav-item&quot;</span><span class="s0">&gt;&lt;a </span><span class="s2">class</span><span class="s3">=&quot;nav-link active&quot; </span><span class="s2">href</span><span class="s3">=&quot;culture.html&quot;</span><span class="s0">&gt;</span><span class="s1">方言地图</span><span class="s0">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="s0">&lt;/ul&gt;</span>
            <span class="s0">&lt;/div&gt;</span>
        <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/nav&gt;</span>

    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;mode-switch-container&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;button </span><span class="s2">class</span><span class="s3">=&quot;mode-btn active&quot; </span><span class="s2">id</span><span class="s3">=&quot;btnStd&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;togglePro(false)&quot;</span><span class="s0">&gt;</span><span class="s1">探索模式</span><span class="s0">&lt;/button&gt;</span>
        <span class="s0">&lt;button </span><span class="s2">class</span><span class="s3">=&quot;mode-btn&quot; </span><span class="s2">id</span><span class="s3">=&quot;btnPro&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;togglePro(true)&quot;</span><span class="s0">&gt;</span><span class="s1">Pro 挑战 </span><span class="s0">&lt;span </span><span class="s2">class</span><span class="s3">=&quot;pro-badge&quot;</span><span class="s0">&gt;</span><span class="s1">VIP</span><span class="s0">&lt;/span&gt;&lt;/button&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;legend-panel d-none d-md-block&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">style</span><span class="s3">=&quot;font-size:12px; color:#666; margin-bottom:5px;&quot;</span><span class="s0">&gt;&lt;span </span><span class="s2">class</span><span class="s3">=&quot;dot dot-red&quot;</span><span class="s0">&gt;&lt;/span&gt; </span><span class="s1">当前定位 (GPS)</span><span class="s0">&lt;/div&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">style</span><span class="s3">=&quot;font-size:12px; color:#666;&quot;</span><span class="s0">&gt;&lt;span </span><span class="s2">class</span><span class="s3">=&quot;dot dot-blue&quot;</span><span class="s0">&gt;&lt;/span&gt; &lt;strong&gt;</span><span class="s1">点击探索方言</span><span class="s0">&lt;/strong&gt;&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;map-container&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;china-map&quot; </span><span class="s2">style</span><span class="s3">=&quot;width: 100%; height: 100%;&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;content-drawer&quot; </span><span class="s2">id</span><span class="s3">=&quot;drawer&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;drawer-hero&quot; </span><span class="s2">id</span><span class="s3">=&quot;heroBg&quot; </span><span class="s2">style</span><span class="s3">=&quot;background-image: url('');&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;btn-close-custom&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;closeDrawer()&quot;</span><span class="s0">&gt;&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-x-lg&quot;</span><span class="s0">&gt;&lt;/i&gt;&lt;/div&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;hero-content&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;h2 </span><span class="s2">class</span><span class="s3">=&quot;hero-title&quot; </span><span class="s2">id</span><span class="s3">=&quot;dCity&quot;</span><span class="s0">&gt;</span><span class="s1">加载中...</span><span class="s0">&lt;/h2&gt;</span>
                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;hero-tags&quot; </span><span class="s2">id</span><span class="s3">=&quot;dTags&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
            <span class="s0">&lt;/div&gt;</span>
        <span class="s0">&lt;/div&gt;</span>

        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;nav-tabs-custom&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;tab-link active&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;switchTab('culture')&quot;</span><span class="s0">&gt;</span><span class="s1">文化与词汇</span><span class="s0">&lt;/div&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;tab-link pro-tab&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;switchTab('scenario')&quot;</span><span class="s0">&gt;&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-trophy-fill small&quot;</span><span class="s0">&gt;&lt;/i&gt; </span><span class="s1">生存挑战</span><span class="s0">&lt;/div&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;tab-link pro-tab&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;switchTab('ai')&quot;</span><span class="s0">&gt;&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-mic-fill small&quot;</span><span class="s0">&gt;&lt;/i&gt; </span><span class="s1">AI语音测评</span><span class="s0">&lt;/div&gt;</span>
        <span class="s0">&lt;/div&gt;</span>

        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;drawer-body&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;tab-culture&quot; </span><span class="s2">class</span><span class="s3">=&quot;tab-pane active&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;p </span><span class="s2">class</span><span class="s3">=&quot;small text-muted mb-3&quot; </span><span class="s2">id</span><span class="s3">=&quot;dIntro&quot;</span><span class="s0">&gt;&lt;/p&gt;</span>
                <span class="s0">&lt;h6 </span><span class="s2">class</span><span class="s3">=&quot;fw-bold mb-3 border-start border-4 border-primary ps-2&quot;</span><span class="s0">&gt;</span><span class="s1">必学：地道文化词</span><span class="s0">&lt;/h6&gt;</span>
                <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;cultureList&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
            <span class="s0">&lt;/div&gt;</span>

            <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;tab-scenario&quot; </span><span class="s2">class</span><span class="s3">=&quot;tab-pane&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;scenario-box&quot;</span><span class="s0">&gt;</span>
                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;scenario-header&quot;</span><span class="s0">&gt;</span>
                        <span class="s0">&lt;div&gt;&lt;h6 </span><span class="s2">class</span><span class="s3">=&quot;fw-bold mb-0&quot; </span><span class="s2">id</span><span class="s3">=&quot;sTitle&quot;</span><span class="s0">&gt;&lt;/h6&gt;&lt;span </span><span class="s2">class</span><span class="s3">=&quot;badge bg-warning text-dark&quot; </span><span class="s2">style</span><span class="s3">=&quot;font-size:10px;&quot;</span><span class="s0">&gt;</span><span class="s1">LV.2</span><span class="s0">&lt;/span&gt;&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;text-end&quot;</span><span class="s0">&gt;&lt;small </span><span class="s2">class</span><span class="s3">=&quot;fw-bold text-success&quot;</span><span class="s0">&gt;</span><span class="s1">目标：完成对话</span><span class="s0">&lt;/small&gt;&lt;/div&gt;</span>
                    <span class="s0">&lt;/div&gt;</span>
                    <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;scenarioContent&quot; </span><span class="s2">class</span><span class="s3">=&quot;pro-mask&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                    <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;proLock&quot; </span><span class="s2">class</span><span class="s3">=&quot;pro-overlay&quot;</span><span class="s0">&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bg-white p-4 rounded-4 shadow text-center border&quot;</span><span class="s0">&gt;</span>
                            <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-lock-fill fs-1 text-warning mb-2&quot;</span><span class="s0">&gt;&lt;/i&gt;</span>
                            <span class="s0">&lt;h6 </span><span class="s2">class</span><span class="s3">=&quot;fw-bold&quot;</span><span class="s0">&gt;</span><span class="s1">Pro 会员专享</span><span class="s0">&lt;/h6&gt;</span>
                            <span class="s0">&lt;button </span><span class="s2">class</span><span class="s3">=&quot;btn btn-dark btn-sm rounded-pill w-100&quot; </span><span class="s2">onclick</span><span class="s3">=&quot;togglePro(true)&quot;</span><span class="s0">&gt;</span><span class="s1">解锁</span><span class="s0">&lt;/button&gt;</span>
                        <span class="s0">&lt;/div&gt;</span>
                    <span class="s0">&lt;/div&gt;</span>
                <span class="s0">&lt;/div&gt;</span>
            <span class="s0">&lt;/div&gt;</span>

            <span class="s0">&lt;div </span><span class="s2">id</span><span class="s3">=&quot;tab-ai&quot; </span><span class="s2">class</span><span class="s3">=&quot;tab-pane&quot;</span><span class="s0">&gt;</span>
                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;ai-challenge-card&quot;</span><span class="s0">&gt;</span>
                    <span class="s0">&lt;span </span><span class="s2">class</span><span class="s3">=&quot;badge bg-primary bg-opacity-10 text-primary mb-3&quot;</span><span class="s0">&gt;</span><span class="s1">AI 纠音实验室</span><span class="s0">&lt;/span&gt;</span>
                    <span class="s0">&lt;p </span><span class="s2">class</span><span class="s3">=&quot;text-muted small&quot;</span><span class="s0">&gt;</span><span class="s1">请按住按钮，用方言大声朗读下方的句子：</span><span class="s0">&lt;/p&gt;</span>

                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;target-sentence&quot; </span><span class="s2">id</span><span class="s3">=&quot;aiTarget&quot;</span><span class="s0">&gt;</span><span class="s1">巴适得板</span><span class="s0">&lt;/div&gt;</span>
                    <span class="s0">&lt;p </span><span class="s2">class</span><span class="s3">=&quot;small text-muted mb-4&quot; </span><span class="s2">id</span><span class="s3">=&quot;aiMeaning&quot;</span><span class="s0">&gt;</span><span class="s1">（意思：非常舒服、很好）</span><span class="s0">&lt;/p&gt;</span>

                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;mic-btn-wrapper&quot;</span><span class="s0">&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;mic-btn&quot; </span><span class="s2">id</span><span class="s3">=&quot;micBtn&quot; </span><span class="s2">onmousedown</span><span class="s3">=&quot;startRecord()&quot; </span><span class="s2">onmouseup</span><span class="s3">=&quot;stopRecord()&quot; </span><span class="s2">ontouchstart</span><span class="s3">=&quot;startRecord()&quot; </span><span class="s2">ontouchend</span><span class="s3">=&quot;stopRecord()&quot;</span><span class="s0">&gt;</span>
                            <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-mic-fill&quot;</span><span class="s0">&gt;&lt;/i&gt;</span>
                        <span class="s0">&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;mic-wave&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                    <span class="s0">&lt;/div&gt;</span>
                    <span class="s0">&lt;p </span><span class="s2">class</span><span class="s3">=&quot;mt-3 small text-muted&quot; </span><span class="s2">id</span><span class="s3">=&quot;micStatus&quot;</span><span class="s0">&gt;</span><span class="s1">按住 说话</span><span class="s0">&lt;/p&gt;</span>

                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;voice-visualizer&quot; </span><span class="s2">id</span><span class="s3">=&quot;visualizer&quot;</span><span class="s0">&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bar&quot; </span><span class="s2">style</span><span class="s3">=&quot;animation-delay: 0.1s&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bar&quot; </span><span class="s2">style</span><span class="s3">=&quot;animation-delay: 0.3s&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bar&quot; </span><span class="s2">style</span><span class="s3">=&quot;animation-delay: 0.0s&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bar&quot; </span><span class="s2">style</span><span class="s3">=&quot;animation-delay: 0.4s&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;bar&quot; </span><span class="s2">style</span><span class="s3">=&quot;animation-delay: 0.2s&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
                    <span class="s0">&lt;/div&gt;</span>

                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;ai-result-box mt-4 border-top pt-4&quot; </span><span class="s2">id</span><span class="s3">=&quot;aiResult&quot;</span><span class="s0">&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;d-flex align-items-center justify-content-center gap-4&quot;</span><span class="s0">&gt;</span>
                            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;score-circle&quot;</span><span class="s0">&gt;</span>
                                <span class="s0">&lt;span </span><span class="s2">class</span><span class="s3">=&quot;score-num&quot;</span><span class="s0">&gt;</span><span class="s1">92</span><span class="s0">&lt;/span&gt;</span>
                                <span class="s0">&lt;span </span><span class="s2">class</span><span class="s3">=&quot;score-label&quot;</span><span class="s0">&gt;</span><span class="s1">总分</span><span class="s0">&lt;/span&gt;</span>
                            <span class="s0">&lt;/div&gt;</span>
                            <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;flex-grow-1 text-start&quot;</span><span class="s0">&gt;</span>
                                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;dimension-row&quot;</span><span class="s0">&gt;</span>
                                    <span class="s0">&lt;span&gt;</span><span class="s1">发音准确度</span><span class="s0">&lt;/span&gt;</span>
                                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-slim&quot;</span><span class="s0">&gt;&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-fill&quot; </span><span class="s2">style</span><span class="s3">=&quot;width: 95%&quot;</span><span class="s0">&gt;&lt;/div&gt;&lt;/div&gt;</span>
                                <span class="s0">&lt;/div&gt;</span>
                                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;dimension-row&quot;</span><span class="s0">&gt;</span>
                                    <span class="s0">&lt;span&gt;</span><span class="s1">声调还原</span><span class="s0">&lt;/span&gt;</span>
                                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-slim&quot;</span><span class="s0">&gt;&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-fill bg-warning&quot; </span><span class="s2">style</span><span class="s3">=&quot;width: 85%&quot;</span><span class="s0">&gt;&lt;/div&gt;&lt;/div&gt;</span>
                                <span class="s0">&lt;/div&gt;</span>
                                <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;dimension-row&quot;</span><span class="s0">&gt;</span>
                                    <span class="s0">&lt;span&gt;</span><span class="s1">流利度</span><span class="s0">&lt;/span&gt;</span>
                                    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-slim&quot;</span><span class="s0">&gt;&lt;div </span><span class="s2">class</span><span class="s3">=&quot;progress-fill bg-info&quot; </span><span class="s2">style</span><span class="s3">=&quot;width: 90%&quot;</span><span class="s0">&gt;&lt;/div&gt;&lt;/div&gt;</span>
                                <span class="s0">&lt;/div&gt;</span>
                            <span class="s0">&lt;/div&gt;</span>
                        <span class="s0">&lt;/div&gt;</span>
                        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;alert alert-success small mb-0 mt-2&quot;</span><span class="s0">&gt;</span>
                            <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;bi bi-stars&quot;</span><span class="s0">&gt;&lt;/i&gt; &lt;strong&gt;</span><span class="s1">AI 点评：</span><span class="s0">&lt;/strong&gt;&lt;br&gt;</span>
                            <span class="s1">发音非常地道！“巴适”的声调掌握得很精准，简直就是本地人！</span>
                        <span class="s0">&lt;/div&gt;</span>
                    <span class="s0">&lt;/div&gt;</span>
                <span class="s0">&lt;/div&gt;</span>
            <span class="s0">&lt;/div&gt;</span>
        <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

    <span class="s0">&lt;script&gt;</span>
        <span class="s1">// --- 核心数据配置 ---</span>
        <span class="s1">const cityData = {</span>
            <span class="s1">'成都': {</span>
                <span class="s1">city: '四川 · 成都', tags: ['西南官话', '火锅', '安逸'],</span>
                <span class="s1">bg: 'https://images.unsplash.com/photo-1596797038530-2c107229654b?w=600',</span>
                <span class="s1">intro: '成都方言以幽默著称。在成都，&quot;吃&quot;是头等大事。',</span>
                <span class="s1">cultureItems: [</span>
                    <span class="s1">{ title: '麻辣火锅', img: 'https://images.unsplash.com/photo-1596797038530-2c107229654b?w=200', word: '油碟', pinyin: 'You Die', desc: '吃火锅必配的香油蒜泥蘸料。' },</span>
                    <span class="s1">{ title: '茶馆文化', img: 'https://images.unsplash.com/photo-1557992260-ec58e38d363c?w=200', word: '龙门阵', pinyin: 'Long Men Zhen', desc: '意为聚在一起聊天。' }</span>
                <span class="s1">],</span>
                <span class="s1">scenario: {</span>
                    <span class="s1">title: '挑战：点一份微辣锅',</span>
                    <span class="s1">chats: [</span>
                        <span class="s1">{role: 'npc', text: '帅哥，几位？坐大厅还是包间？'},</span>
                        <span class="s1">{role: 'user', text: '三位，坐外面，&lt;span class=&quot;dialect-highlight&quot;&gt;透气 (Tou Qi)&lt;/span&gt;。'},</span>
                        <span class="s1">{role: 'npc', text: '&lt;span class=&quot;dialect-highlight&quot;&gt;要得&lt;/span&gt;。锅底要啥子味道？'},</span>
                        <span class="s1">{role: 'user', text: '来个&lt;span class=&quot;dialect-highlight&quot;&gt;鸳鸯锅&lt;/span&gt;，红汤要&lt;span class=&quot;dialect-highlight&quot;&gt;微辣&lt;/span&gt;！'}</span>
                    <span class="s1">]</span>
                <span class="s1">},</span>
                <span class="s1">aiChallenge: { word: '巴适得板', meaning: '（意思：非常舒服、很好）' }</span>
            <span class="s1">},</span>
            <span class="s1">'上海': {</span>
                <span class="s1">city: '上海 (Shanghai)', tags: ['吴语区', '外滩', '精致'],</span>
                <span class="s1">bg: 'https://images.unsplash.com/photo-1548919973-5cef591cdbc9?w=600',</span>
                <span class="s1">intro: '上海话保留了古浊音，听起来软糯但语速较快。',</span>
                <span class="s1">cultureItems: [</span>
                    <span class="s1">{ title: '生煎', img: 'https://images.unsplash.com/photo-1563245372-f21720e38c4d?w=200', word: '米道', pinyin: 'Mi Dao', desc: '意为味道。' },</span>
                    <span class="s1">{ title: '打招呼', img: 'https://images.unsplash.com/photo-1505991754094-9c87895e6e8e?w=200', word: '侬好', pinyin: 'Nong Ho', desc: '最标准的“你好”。' }</span>
                <span class="s1">],</span>
                <span class="s1">scenario: {</span>
                    <span class="s1">title: '挑战：便利店买水',</span>
                    <span class="s1">chats: [</span>
                        <span class="s1">{role: 'npc', text: '你好，一共十五块五。'},</span>
                        <span class="s1">{role: 'user', text: '&lt;span class=&quot;dialect-highlight&quot;&gt;微信&lt;/span&gt; 支付可以伐？'},</span>
                        <span class="s1">{role: 'npc', text: '可以的。要&lt;span class=&quot;dialect-highlight&quot;&gt;袋子&lt;/span&gt;伐？'},</span>
                        <span class="s1">{role: 'user', text: '&lt;span class=&quot;dialect-highlight&quot;&gt;覅 (Fiao)&lt;/span&gt;了，谢谢。'}</span>
                    <span class="s1">]</span>
                <span class="s1">},</span>
                <span class="s1">aiChallenge: { word: '侬饭吃过伐？', meaning: '（意思：你吃饭了吗？）' }</span>
            <span class="s1">},</span>
            <span class="s1">'广州': {</span>
                <span class="s1">city: '广东 · 广州', tags: ['粤语', '早茶', '务实'],</span>
                <span class="s1">bg: 'https://images.unsplash.com/photo-1583248369069-9d91f1640fe6?w=600',</span>
                <span class="s1">intro: '“得闲饮茶”是广州人的生活哲学。粤语的九声六调保留了古汉语的韵味。',</span>
                <span class="s1">cultureItems: [</span>
                    <span class="s1">{ title: '早茶', img: 'https://images.unsplash.com/photo-1595052953507-954992524d77?w=200', word: '一盅两件', pinyin: 'Yat Zung', desc: '一壶茶配两个点心。' },</span>
                    <span class="s1">{ title: '买单', img: 'https://images.unsplash.com/photo-1562967663-8a9d18f50c76?w=200', word: '埋单', pinyin: 'Mai Dan', desc: '结账。' }</span>
                <span class="s1">],</span>
                <span class="s1">scenario: {</span>
                    <span class="s1">title: '挑战：茶楼点单',</span>
                    <span class="s1">chats: [</span>
                        <span class="s1">{role: 'npc', text: '靓仔，饮咩茶？普洱定系铁观音？'},</span>
                        <span class="s1">{role: 'user', text: '&lt;span class=&quot;dialect-highlight&quot;&gt;普洱&lt;/span&gt;，唔该。'},</span>
                        <span class="s1">{role: 'npc', text: '要食点什么？'},</span>
                        <span class="s1">{role: 'user', text: '一笼&lt;span class=&quot;dialect-highlight&quot;&gt;虾饺&lt;/span&gt;，一碟&lt;span class=&quot;dialect-highlight&quot;&gt;凤爪&lt;/span&gt;。'}</span>
                    <span class="s1">]</span>
                <span class="s1">},</span>
                <span class="s1">aiChallenge: { word: '恭喜发财', meaning: '（意思：Gung Hei Fat Choy）' }</span>
            <span class="s1">}</span>
        <span class="s1">};</span>

        <span class="s1">// --- 地图初始化 ---</span>
        <span class="s1">var myChart = echarts.init(document.getElementById('china-map'));</span>
        <span class="s1">var option = {</span>
            <span class="s1">geo: {</span>
                <span class="s1">map: 'china', roam: true, zoom: 1.2, label: {show:false},</span>
                <span class="s1">itemStyle: { areaColor: '#e0eaff', borderColor: '#fff' },</span>
                <span class="s1">emphasis: { itemStyle: { areaColor: '#b3c7f7' } }</span>
            <span class="s1">},</span>
            <span class="s1">series: [</span>
                <span class="s1">{</span>
                    <span class="s1">type: 'effectScatter', coordinateSystem: 'geo',</span>
                    <span class="s1">data: [{name:'成都',value:[104.06,30.67]},{name:'上海',value:[121.47,31.23]},{name:'广州',value:[113.26,23.12]}],</span>
                    <span class="s1">symbolSize: 20, itemStyle: { color: '#004aad' }, rippleEffect: {brushType:'stroke', scale:4}</span>
                <span class="s1">},</span>
                <span class="s1">{</span>
                    <span class="s1">type: 'effectScatter', coordinateSystem: 'geo',</span>
                    <span class="s1">data: [{name:'北京',value:[116.40,39.90]}],</span>
                    <span class="s1">symbolSize: 20, itemStyle: { color: '#ff4d4f' }, rippleEffect: {color:'#ff4d4f', brushType:'stroke', scale:6}</span>
                <span class="s1">}</span>
            <span class="s1">]</span>
        <span class="s1">};</span>
        <span class="s1">myChart.setOption(option);</span>

        <span class="s1">myChart.on('click', function(params) {</span>
            <span class="s1">if(params.seriesIndex === 0) {</span>
                <span class="s1">renderDrawer(params.data.name);</span>
                <span class="s1">document.getElementById('drawer').classList.add('show');</span>
            <span class="s1">}</span>
        <span class="s1">});</span>

        <span class="s1">// --- 渲染逻辑 ---</span>
        <span class="s1">function renderDrawer(cityName) {</span>
            <span class="s1">const data = cityData[cityName] || cityData['成都'];</span>

            <span class="s1">// Header</span>
            <span class="s1">document.getElementById('heroBg').style.backgroundImage = `url('${data.bg}')`;</span>
            <span class="s1">document.getElementById('dCity').innerText = data.city;</span>
            <span class="s1">document.getElementById('dTags').innerHTML = data.tags.map(t=&gt;`&lt;span&gt;${t}&lt;/span&gt;`).join('');</span>

            <span class="s1">// Culture</span>
            <span class="s1">document.getElementById('dIntro').innerText = data.intro;</span>
            <span class="s1">document.getElementById('cultureList').innerHTML = data.cultureItems.map(item =&gt; `</span>
                <span class="s1">&lt;div class=&quot;culture-item&quot;&gt;</span>
                    <span class="s1">&lt;img src=&quot;${item.img}&quot; class=&quot;culture-thumb&quot;&gt;</span>
                    <span class="s1">&lt;div class=&quot;culture-info&quot;&gt;</span>
                        <span class="s1">&lt;h6&gt;${item.title}&lt;/h6&gt;</span>
                        <span class="s1">&lt;div&gt;&lt;span class=&quot;dialect-word&quot;&gt;${item.word}&lt;/span&gt; &lt;span class=&quot;pinyin&quot;&gt;${item.pinyin}&lt;/span&gt; &lt;i class=&quot;bi bi-volume-up-fill play-icon-sm&quot;&gt;&lt;/i&gt;&lt;/div&gt;</span>
                        <span class="s1">&lt;div class=&quot;small text-muted mt-1&quot;&gt;${item.desc}&lt;/div&gt;</span>
                    <span class="s1">&lt;/div&gt;</span>
                <span class="s1">&lt;/div&gt;</span>
            <span class="s1">`).join('');</span>

            <span class="s1">// Scenario</span>
            <span class="s1">document.getElementById('sTitle').innerText = data.scenario.title;</span>
            <span class="s1">document.getElementById('scenarioContent').innerHTML = data.scenario.chats.map(chat =&gt; `</span>
                <span class="s1">&lt;div class=&quot;chat-row&quot;&gt;</span>
                    <span class="s1">&lt;div class=&quot;small text-muted mb-1 ${chat.role==='user'?'text-end':''}&quot;&gt;${chat.role==='user'?'你 (Player)':'NPC'}&lt;/div&gt;</span>
                    <span class="s1">&lt;div class=&quot;chat-bubble ${chat.role==='user'?'chat-user':'chat-npc'}&quot;&gt;${chat.text}&lt;/div&gt;</span>
                <span class="s1">&lt;/div&gt;</span>
            <span class="s1">`).join('');</span>

            <span class="s1">// AI Challenge</span>
            <span class="s1">document.getElementById('aiTarget').innerText = data.aiChallenge.word;</span>
            <span class="s1">document.getElementById('aiMeaning').innerText = data.aiChallenge.meaning;</span>

            <span class="s1">// 重置 AI 界面状态</span>
            <span class="s1">document.getElementById('aiResult').style.display = 'none';</span>
            <span class="s1">document.getElementById('visualizer').style.opacity = '0';</span>
            <span class="s1">document.getElementById('micStatus').innerText = '按住 说话';</span>

            <span class="s1">switchTab('culture');</span>
        <span class="s1">}</span>

        <span class="s1">// --- AI 录音模拟逻辑 ---</span>
        <span class="s1">let recordTimer;</span>
        <span class="s1">function startRecord() {</span>
            <span class="s1">document.getElementById('micBtn').classList.add('recording');</span>
            <span class="s1">document.getElementById('micStatus').innerText = '正在聆听...';</span>
            <span class="s1">document.getElementById('visualizer').style.opacity = '1';</span>
            <span class="s1">// 隐藏上一次的结果</span>
            <span class="s1">document.getElementById('aiResult').style.display = 'none';</span>
        <span class="s1">}</span>

        <span class="s1">function stopRecord() {</span>
            <span class="s1">document.getElementById('micBtn').classList.remove('recording');</span>
            <span class="s1">document.getElementById('micStatus').innerText = '正在分析声纹...';</span>
            <span class="s1">document.getElementById('visualizer').style.opacity = '0';</span>

            <span class="s1">// 模拟分析延迟</span>
            <span class="s1">setTimeout(() =&gt; {</span>
                <span class="s1">document.getElementById('micStatus').innerText = '分析完成';</span>
                <span class="s1">document.getElementById('aiResult').style.display = 'block';</span>
            <span class="s1">}, 1500);</span>
        <span class="s1">}</span>

        <span class="s1">// --- 通用交互 ---</span>
        <span class="s1">function closeDrawer() { document.getElementById('drawer').classList.remove('show'); }</span>

        <span class="s1">function switchTab(tabId) {</span>
            <span class="s1">document.querySelectorAll('.tab-pane').forEach(el=&gt;el.classList.remove('active'));</span>
            <span class="s1">document.getElementById('tab-'+tabId).classList.add('active');</span>
            <span class="s1">document.querySelectorAll('.tab-link').forEach(el=&gt;el.classList.remove('active'));</span>
            <span class="s1">event.currentTarget.classList.add('active');</span>
        <span class="s1">}</span>

        <span class="s1">function togglePro(active) {</span>
            <span class="s1">const btnStd = document.getElementById('btnStd');</span>
            <span class="s1">const btnPro = document.getElementById('btnPro');</span>
            <span class="s1">const lock = document.getElementById('proLock');</span>
            <span class="s1">const content = document.getElementById('scenarioContent');</span>

            <span class="s1">if(active) {</span>
                <span class="s1">btnStd.classList.remove('active');</span>
                <span class="s1">btnPro.classList.add('pro-active');</span>
                <span class="s1">if(lock) lock.style.display = 'none';</span>
                <span class="s1">if(content) content.classList.remove('pro-mask');</span>
            <span class="s1">} else {</span>
                <span class="s1">btnStd.classList.add('active');</span>
                <span class="s1">btnPro.classList.remove('pro-active');</span>
                <span class="s1">if(lock) lock.style.display = 'flex';</span>
                <span class="s1">if(content) content.classList.add('pro-mask');</span>
            <span class="s1">}</span>
        <span class="s1">}</span>

        <span class="s1">window.addEventListener('resize', () =&gt; myChart.resize());</span>
    <span class="s0">&lt;/script&gt;</span>
<span class="s0">&lt;/body&gt;</span>
<span class="s0">&lt;/html&gt;</span></pre>
</body>
</html>